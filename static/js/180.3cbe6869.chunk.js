"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[180],{407:function(e,t,n){var r=n(861),a=n(757),c=n.n(a),u=n(243).Z.create({baseURL:"https://api.themoviedb.org",headers:{accept:"application/json"},params:{api_key:"510d6b02ed225a51e009d13f1b3c4d4c",language:"en-US"}});function o(){return(o=(0,r.Z)(c().mark((function e(t){return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.get("/".concat(t));case 3:return e.abrupt("return",e.sent);case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}t.Z=function(e){return o.apply(this,arguments)}},180:function(e,t,n){n.r(t),n.d(t,{default:function(){return _}});var r=n(433),a=n(861),c=n(439),u=n(757),o=n.n(u),s=n(689),i=n(87),l=n(791),p=n(407),f="SearchMoviePage_form__sxhHj",h="SearchMoviePage_button__Kiefa",m="SearchMoviePage_input__s-aLp",d="SearchMoviePage_loadMoreButton__NTZ89",v=n(184),_=function(){var e,t=(0,s.TH)(),n=(0,l.useState)([]),u=(0,c.Z)(n,2),_=u[0],g=u[1],x=(0,l.useState)(1),b=(0,c.Z)(x,2),Z=b[0],j=b[1],k=(0,l.useState)(0),y=(0,c.Z)(k,2),S=y[0],w=y[1],M=(0,i.lr)(),N=(0,c.Z)(M,2),C=N[0],P=N[1],q=null!==(e=C.get("query"))&&void 0!==e?e:"",L="3/search/movie?&include_adult=false&query=".concat(q,"&page=").concat(Z);return(0,l.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==q.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,p.Z)(L).then((function(e){var t=e.data,n=t.page,a=t.results,c=t.total_pages;g((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(a))})),j(n),w(c)})).catch((function(e){console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[L,q,Z]),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("form",{className:f,onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.input.value;if(g([]),!t)return P({});P({query:t})},children:[(0,v.jsx)("button",{className:h,type:"submit"}),(0,v.jsx)("input",{className:m,name:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})]}),(0,v.jsx)("ul",{children:_.length>0&&_.map((function(e){var n=e.original_title,r=e.id;return(0,v.jsx)("li",{children:(0,v.jsx)(i.rU,{to:"".concat(r),state:{from:t},children:(0,v.jsx)("span",{children:n})})},r)}))}),S>1&&Z!==S&&(0,v.jsx)("button",{type:"button",onClick:function(){j((function(e){return e+1}))},className:d,children:"Load More"})]})}}}]);
//# sourceMappingURL=180.3cbe6869.chunk.js.map