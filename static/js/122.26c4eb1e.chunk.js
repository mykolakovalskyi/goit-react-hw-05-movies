"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[122],{122:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});var r=n(433),a=n(861),c=n(439),u=n(757),o=n.n(u),s=n(689),i=n(87),l=n(791),p=n(243);function f(){return(f=(0,a.Z)(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"510d6b02ed225a51e009d13f1b3c4d4c",n=new URLSearchParams({api_key:"510d6b02ed225a51e009d13f1b3c4d4c",language:"en-US"}),r={headers:{accept:"application/json"}},e.next=5,p.Z.get("https://api.themoviedb.org/".concat(t,"&").concat(n),r);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(e){return f.apply(this,arguments)},d="SearchMoviePage_form__sxhHj",m="SearchMoviePage_button__Kiefa",v="SearchMoviePage_input__s-aLp",_="SearchMoviePage_loadMoreButton__NTZ89",g=n(184),b=function(){var e,t=(0,s.TH)(),n=(0,l.useState)([]),u=(0,c.Z)(n,2),p=u[0],f=u[1],b=(0,l.useState)(1),x=(0,c.Z)(b,2),j=x[0],k=x[1],S=(0,l.useState)(0),y=(0,c.Z)(S,2),Z=y[0],w=y[1],M=(0,i.lr)(),N=(0,c.Z)(M,2),P=N[0],C=N[1],q=null!==(e=P.get("query"))&&void 0!==e?e:"",L="3/search/movie?&include_adult=false&query=".concat(q,"&page=").concat(j);return(0,l.useEffect)((function(){var e=function(){var e=(0,a.Z)(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==q.trim()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,h(L).then((function(e){var t=e.data,n=t.page,a=t.results,c=t.total_pages;f((function(e){return[].concat((0,r.Z)(e),(0,r.Z)(a))})),k(n),w(c)})).catch((function(e){console.log(e.message)}));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[L,q,j]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("form",{className:d,onSubmit:function(e){e.preventDefault();var t=e.currentTarget.elements.input.value;if(f([]),!t)return C({});C({query:t})},children:[(0,g.jsx)("button",{className:m,type:"submit"}),(0,g.jsx)("input",{className:v,name:"input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})]}),(0,g.jsx)("ul",{children:p.length>0&&p.map((function(e){var n=e.original_title,r=e.id;return(0,g.jsx)("li",{children:(0,g.jsx)(i.rU,{to:"".concat(r),state:{from:t},children:(0,g.jsx)("span",{children:n})})},r)}))}),Z>1&&j!==Z&&(0,g.jsx)("button",{type:"button",onClick:function(){k((function(e){return e+1}))},className:_,children:"Load More"})]})}}}]);
//# sourceMappingURL=122.26c4eb1e.chunk.js.map